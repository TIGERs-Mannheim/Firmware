list(APPEND chibios_SOURCES
    ${CMAKE_CURRENT_LIST_DIR}/oslib/chdelegates.c
    ${CMAKE_CURRENT_LIST_DIR}/oslib/chfactory.c
    ${CMAKE_CURRENT_LIST_DIR}/oslib/chmboxes.c
    ${CMAKE_CURRENT_LIST_DIR}/oslib/chmemcore.c
    ${CMAKE_CURRENT_LIST_DIR}/oslib/chmemheaps.c
    ${CMAKE_CURRENT_LIST_DIR}/oslib/chmempools.c
    ${CMAKE_CURRENT_LIST_DIR}/oslib/chobjcaches.c
    ${CMAKE_CURRENT_LIST_DIR}/oslib/chpipes.c
    ${CMAKE_CURRENT_LIST_DIR}/port/chcoreasm.S
    ${CMAKE_CURRENT_LIST_DIR}/port/crt0_v7m.S
    ${CMAKE_CURRENT_LIST_DIR}/port/vectors.S
    ${CMAKE_CURRENT_LIST_DIR}/port/chcore.c
    ${CMAKE_CURRENT_LIST_DIR}/port/crt1.c
    ${CMAKE_CURRENT_LIST_DIR}/port/syscalls.c
    ${CMAKE_CURRENT_LIST_DIR}/rt/chcond.c
    ${CMAKE_CURRENT_LIST_DIR}/rt/chdebug.c
    ${CMAKE_CURRENT_LIST_DIR}/rt/chdynamic.c
    ${CMAKE_CURRENT_LIST_DIR}/rt/chevents.c
    ${CMAKE_CURRENT_LIST_DIR}/rt/chinstances.c
    ${CMAKE_CURRENT_LIST_DIR}/rt/chmsg.c
    ${CMAKE_CURRENT_LIST_DIR}/rt/chmtx.c
    ${CMAKE_CURRENT_LIST_DIR}/rt/chregistry.c
    ${CMAKE_CURRENT_LIST_DIR}/rt/chrfcu.c
    ${CMAKE_CURRENT_LIST_DIR}/rt/chschd.c
    ${CMAKE_CURRENT_LIST_DIR}/rt/chsem.c
    ${CMAKE_CURRENT_LIST_DIR}/rt/chstats.c
    ${CMAKE_CURRENT_LIST_DIR}/rt/chsys.c
    ${CMAKE_CURRENT_LIST_DIR}/rt/chthreads.c
    ${CMAKE_CURRENT_LIST_DIR}/rt/chtm.c
    ${CMAKE_CURRENT_LIST_DIR}/rt/chtrace.c
    ${CMAKE_CURRENT_LIST_DIR}/rt/chvt.c
)

list(APPEND chibios_INCLUDE_DIRS
    ${CMAKE_CURRENT_LIST_DIR}
    ${CMAKE_CURRENT_LIST_DIR}/rt
    ${CMAKE_CURRENT_LIST_DIR}/oslib
    ${CMAKE_CURRENT_LIST_DIR}/port
)
